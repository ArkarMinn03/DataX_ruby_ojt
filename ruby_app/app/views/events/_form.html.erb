<%= form_with(model: event, local: true) do |form| %>
  <div>
    <%= form.label "Title" %>
    <%= form.text_field :title %>
    <% if flash[:errors].present? && flash[:errors]["title"].present? %>
      <% flash[:errors]["title"].each do |error| %>
        <span style="color: red; display: block;"><%= error %></span>
      <% end %>
    <% end %>
  </div>
  <div>
    <%= form.label "Description" %>
    <%= form.text_field :description %>
    <% if flash[:errors].present? && flash[:errors]["description"].present? %>
      <% flash[:errors]["description"].each do |error| %>
        <span style="color: red; display: block;"><%= error %></span>
      <% end %>
    <% end %>
  </div>
  <div>
    <%= form.label "Start Time" %>
    <%= form.date_field :start_date_part %>
    <%= form.time_field :start_time_part %>
    <% if flash[:errors].present? && flash[:errors]["start_time"].present? %>
      <% flash[:errors]["start_time"].each do |error| %>
        <span style="color: red; display: block;"><%= error %></span>
      <% end %>
    <% end %>
  </div>
  <div>
    <%= form.label "End Time" %>
    <%= form.date_field :end_date_part %>
    <%= form.time_field :end_time_part %>
    <% if flash[:errors].present? && flash[:errors]["end_time"].present? %>
      <% flash[:errors]["end_time"].each do |error| %>
        <span style="color: red; display: block;"><%= error %></span>
      <% end %>
    <% end %>
  </div>
  <div>
    <%= form.label "Guests"  %>
    <%= form.collection_check_boxes :guest_ids, users, :id, :full_name do |name| %>
      <div class="form-check">
        <%= name.check_box(class: "form-check-input", checked: event.event_guests.any? { |event_guest| event_guest.user_id == name.object.id } ) %>
        <%= name.label class: "from-check-label" %>
      </div>
    <% end %>
  </div>
  <div>
    <%= form.submit %>
  </div>

<% end %>